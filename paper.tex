\documentclass{llncs}

\usepackage{amssymb}
\setcounter{tocdepth}{3}
\usepackage{graphicx}
\usepackage[ruled]{algorithm2e}
%\usepackage[lined,boxed,commentsnumbered]{algorithm2e}
\usepackage{amssymb}
\usepackage{amsmath,graphicx,color,doi}
\usepackage{algorithm2e}
%\usepackage{algorithmic}	
\usepackage{multirow}
\usepackage{subfigure}
\usepackage{cite}


\newcommand{\gi}[1]{{\textcolor{red}{[\small \textbf{Giacomo}: #1]}}}
\newcommand{\ad}[1]{{\textcolor{red}{[\small \textbf{Adriano}: #1]}}}
\newcommand{\cl}[1]{{\textcolor{red}{[\small \textbf{Claudio}: #1]}}}

\begin{document}
\title{Tampering detection for low-power smart cameras}

\author{Adriano Gaibotti\inst{1}\inst{2} \and Claudio Marchisio\inst{1} \and Alexandro Sentinelli\inst{1} \and Giacomo Boracchi\inst{2}}

\institute{ STMicroelectronics, Advanced System Technology, Via Camillo Olivetti 2, 20864, Agrate Brianza (MB), Italy\\
	\email{\{adriano.gaibotti, claudio.marchisio, alexandro.sentinelli\}@st.com}
	\and
	Politecnico di Milano, Dipartimento di Elettronica, Informazione e Bioingegneria (DEIB), Via Ponzio 34/5, 20133, Milano (MI), Italy\\
	\email{adriano.gaibotti@mail.polimi.it, giacomo.boracchi@polimi.it}}
\maketitle

\begin{abstract}
One of the most critical issues in smart cameras, used as nodes in wireless multimedia sensor networks (WMSN), is the automatic detection of events that could compromise the correct acquisition of the scene, such as the presence of water on the camera lens, or the displacement of the device, or tampering events. 
In general, techniques used to identify these type of events are called tampering detection algorithms.
We introduce a solution for the tampering detection that can be used for low-power and embedded smart cameras, in which the acquisition is done with low frame rate, such as one frame every minute.
The solution consists in a segmentation of the acquired scene in adaptive regions, and monitoring some features in each region, in order to find a change in their behavior that could be associated to a tampering event.

\end{abstract}

\section{Introduction}\label{sec:introduction}

\gi{Adriano: metti un paio di foto per spiegare il problema che consideriamo.}



\begin{figure}
\centering
\subfigure[]{\label{fig:neve} \includegraphics[width=0.4\linewidth]{Immagini/neve}}
\subfigure[]{\label{fig:pioggia} \includegraphics[width=0.4\linewidth]{Immagini/pioggia}}
\caption[Tampering examples]{Examples of tampering events due to atmospheric phenomena. In Figure \ref{fig:neve} there is an occlusion due to some snow on the camera lens, while in Figure \ref{fig:pioggia} there is a blur due to rain drops on the camera lens.}
\label{fig:tampering}
\end{figure}


Random Toughs:
\begin{itemize}
\item Smart cameras, low-power monitoring of scene. Description of the application scenario. Low frame rate.
\item Cameras organized in a multimedia network, continuous acquisition and streaming is not feasible
\item The problem of false alarms, radio module activation
\item Other tampering attacks like obfuscation (??) which might be due to environmental phenomena such as rain, fog and mist over the camera lenses have to be detected by image analysis methods
\item Displacement can be perceived by MEMS as well but these device alone are prone to false alarms. Visual inspection is necessary to reduce false alarms
\item constrained environment: algorithms have to operate with a low computational complexity and memory requirement
\end{itemize}

 
\section{Related Works}\label{sec:relWorks}

\gi{Adriano: metti tutte le reference, ciascuna con un commento di una frase per dire che fa ed una frase (o mezza) per dire i problemi che ha (con particolare riferimento all'ambito low-power) Poi le aggiustiamo in maniera organica}

\cite{aksay2007camera}: uses background subtraction methods in order to identify defocus and occlusions, doing a comparison in the wavelet domain for defocus detection and histogram comparison  for occlusion detection. Displacement is not treated.

\cite{saglam2009real}:  uses background subtraction methods in order to identify defocus, occlusions, and displacements. Comparison in the Fourier domain for defocus detection, histogram comparison for occlusion detection, comparison between current background and delayed background for displacement detection.

\cite{alippi2010detecting}: CUSUM CDT on gradient energy content in order to detect blur in frames 

\cite{gil2007automatic}:  uses background subtraction methods in order to identify defocus, occlusions, and displacements. Comparison of edges pixels count for defocus detection, entropy comparison for occlusion detection, block matching algorithm for displacement detection.

\cite{ribnick2006real}: comparison between frames belonging to a buffer in order to find high values of dissimilarity, associated to tampering.

\cite{kryjak2012fpga}: implementation in a FPGA of a solution based on background modeling, histograms comparisons, edges comparisons.

\cite{harasse2004automated}: tampering detection inside a moving vehicle; uses background subtraction methods in order to identify defocus, occlusions, and displacements. Comparison of edges pixels count for defocus detection, entropy comparison for occlusion detection, block matching algorithm for displacement detection.

\cite{tsesmelis2013tamper}: monitoring of the number of key points extracted by SURF in order to detect defocus events, partition in blocks and HOG descriptors matching for each block in order to detect occlusions. These types of solutions requires a lot of computations

\section{Problem Formulation}\label{sec:probForm}

\gi{Adriano: metti le formule di quello della tesi circa displacemente e out of focus. Poi condensiamo il tutto}

\section{Proposed Solution}\label{sec:propSol}

\subsection{Scene Segmentation}\label{subsec:Segmentation}

\subsection{Indicators}\label{subsec:Indicators}
\gi{Adriano: mettere formule degli indicatori e anche del frame difference qua}

\subsection{Outlier Detection}\label{subsec:MonitoringScheme}

\subsection{Algorithm Summary}\label{subsec:AlgorithmSummary}
\begin{algorithm}[tp]
	% \SetAlgoNoLine
	\LinesNumbered
	\SetAlgoNlRelativeSize{0}
	\SetNlSty{small}{}{.}
	\textbf{Configuration}:\\
	\lnl{DEF-Tr0} Extract regions $\{R_k\}, k=1,\dots,K$  \\
	\lnl{DEF-Tr1} \For{$t=1,\dots,T_{o}$}
	{	\lnl{DEF-Tr2} Acquire frame $z_t$ \\
		\lnl{DEF-Tr2a} \For{$k=1,\dots,K$}{
			\lnl{DEF-Tr3a} Compute $g^k(t)$, $\frac{\partial g^k}{\partial t}(t)$ for the region $R_k$\\
		}
		\lnl{DEF-Tr3} Compute $g(t)$, $\frac{\partial g}{\partial t}(t)$ \\
	}
	\lnl{DEF-Tr6a} \For{$k=1,\dots,K$}{
		\lnl{DEF-Tr7a} Define thresholds $\Gamma_{min}^k$ and $\Gamma_{max}^k$\\
	}
	\lnl{DEF-Tr5} Define CDT parameters on $g(t)$ variance\\
	\textbf{Operational phase}:\\
	\lnl{DEF-Test1} \For{$t=T_{o},\dots,\infty$}{
		\lnl{DEF-Test2} Acquire frame $z_t$ \\
		\lnl{DEF-Tr3b} Compute $g(t)$, $\frac{\partial g}{\partial t}(t)$ \\
		\lnl{DEF-Test2a} $n=0$\\
		\lnl{DEF-Test4a} \For{$k=1,\dots,K$}{
			\lnl{DEF-Test5a} Compute $g^k(t)$, $\frac{\partial g^k}{\partial t}(t)$ for the region $R_k$\\
			\lnl{DEF-Test6a} \If{$\frac{\partial g^k}{\partial t}(t) < \Gamma_{min}^k \vee \frac{\partial g^k}{\partial t}(t) > \Gamma_{max}^k $}{
				\lnl{DEF-Test7a} $n=n+1$\\
			}
		}
		\lnl{DEF-Test81} \If{$n \geq K-1$}{
			\lnl{DEF-Test91} $z_t$ is a defocused frame\\
		}
		\lnl{DEF-Test8} \If{CDT detect a change on $g(t)$ variance}{
			\lnl{DEF-Test9} $z_t$ is a defocused frame\\
		}
	}   
	\caption{Blur detection algorithm}
	\label{alg:DEFOCUS}
\end{algorithm}

\begin{algorithm}[tp]
	% \SetAlgoNoLine
	\LinesNumbered
	\SetAlgoNlRelativeSize{0}
	\SetNlSty{small}{}{.}
	\textbf{Configuration}:\\
	\lnl{DISPL-Tr1} Extract regions $\{R_k\}, k=1,\dots,K$  \\
	\lnl{DISPL-Tr2} \For{$t=1,\dots,T_{o}$}
	{	\lnl{DISPL-Tr3} Acquire frame $z_t$ \\
		\lnl{DISPL-Tr4} \For{$k=1,\dots,K$}{
			\lnl{DISPL-Tr5} Compute $l^k(t)$, $\frac{\partial l^k}{\partial t}(t)$ for the region $R_k$\\
		}
	}
	\lnl{DISPL-Tr6} \For{$k=1,\dots,K$}{
		\lnl{DISPL-Tr7} Define thresholds $\Gamma_{min}^k$ and $\Gamma_{max}^k$\\
	}
	\textbf{Operational phase}:\\
	\lnl{DISPL-Test1} \For{$t=T_{o},\dots,\infty$}{
		\lnl{DISPL-Test2} Acquire frame $z_t$ \\
		\lnl{DISPL-Test3} $n = 0$ \\
		\lnl{DISPL-Test4} \For{$k=1,\dots,K$}{
			\lnl{DISPL-Test5} Compute $l^k(t)$, $\frac{\partial l^k}{\partial t}(t)$ for the region $R_k$\\
			\lnl{DISPL-Test6} \If{$\frac{\partial l^k}{\partial t}(t) < \Gamma_{min}^k \vee \frac{\partial l^k}{\partial t}(t) > \Gamma_{max}^k $}{
				\lnl{DISPL-Test7} $n=n+1$\\
			}
		}
		\lnl{DISPL-Test8} \If{$n\geq K-1$}{
			\lnl{DISPL-Test9} $z_t$ is a displaced frame\\
		}
	}   
	\caption{Displacement detection algorithm}
	\label{alg:DISPL}
\end{algorithm}
\gi{Adriano: inserisci qui l'algoritmo e traducilo in inglese. Se riusciamo lo spostiamo prima di tutte le sottosezioni}

\section{Experiments}\label{sec:experiments}

\subsection{Dataset Description}\label{subsec:Dataset}
\gi{Adriano: Prova a mettere qua le info}

\subsection{Alternative Approaches}\label{subsec:AlternativeApproach	es}
\begin{itemize}
\item Full
\item Adaptive Region
\item Voronoi Regions
\end{itemize}

\subsection{Performance Assessment}
\gi{Adriano: Dire come vengono calcolate le ROC curves TPR e FPR, le cifre di merito insomma, spiegando bene che parametro varia}

\gi{Adriano: metti entrambe le ROC curves, affiancate e per bene ed alcuni esempi di sequenze}

\begin{figure}
	\centering
	\subfigure[]{\label{fig:ROCdefocus} \includegraphics[width=0.45\linewidth]{Immagini/ROCdefocus.pdf}}
	\subfigure[]{\label{fig:ROCdefocusZOOM} \includegraphics[width=0.45\linewidth]{Immagini/ROCdefocusZOOM.pdf}}
	\subfigure[]{\label{fig:ROCdispl} \includegraphics[width=0.45\linewidth]{Immagini/ROCdisplacement.pdf}}
	\subfigure[]{\label{fig:ROCdisplZOOM} \includegraphics[width=0.45\linewidth]{Immagini/ROCdisplacementZOOM.pdf}}
	\caption[Tampering examples]{Examples of tampering events due to atmospheric phenomena. In Figure \ref{fig:neve} there is an occlusion due to some snow on the camera lens, while in Figure \ref{fig:pioggia} there is a blur due to rain drops on the camera lens.}
	\label{fig:ROC}
\end{figure}


%\begin{figure}
%\centering
%\includegraphics[width=0.7\linewidth]{Immagini/ROCdefocus_cropped.pdf}
%\caption{Defocus}
%\label{fig:ROCdefocus}
%\end{figure}

\subsection{Discussion}
\gi{Adiano: Aggiungi qua la complessit\'a computazionale}

\section{Conclusion}\label{sec:Conclusion}
\gi{Adriano: butta in inglese gli ongoing works (come ultima cosa)}
.

\section*{Acknowledgments}\label{sec:Acknowledgments}
Authors would like to thank ST for supporting Adriano Gaibotti.

\bibliographystyle{unsrt}
\bibliography{bibl_tesi}

%\begin{thebibliography}{1}
%	
%	\bibitem{Einstein}
%	A. Einstein, On the movement of small particles suspended in stationary liquids required by the molecular-kinetic theory of heat, Annalen der Physik 17, pp. 549-560, 1905.
%	
%\end{thebibliography}
\end{document}
